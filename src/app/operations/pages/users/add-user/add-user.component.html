<div class="container mt-4">
  <app-subtitle>{{ "routingHeader.addUser" | translate }}</app-subtitle>
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <!-- Name Field -->
      <div class="form-group">
        <label for="name">{{ "common.name" | translate }} <span class="required">*</span> </label>
        <input type="text" id="name" class="form-control" formControlName="name" />
        <div *ngIf="formGroup.get('name')?.hasError('required') && formGroup.get('name')?.touched" class="invalid-feedback">
          Name is required.
        </div>
      </div>

      <!-- Username Field -->
      <div class="form-group">
        <label for="username">{{ "common.username" | translate }} <span class="required">*</span> </label>
        <input type="text" id="username" class="form-control" formControlName="username" />
        <div *ngIf="submitted && formGroup.get('username')?.errors?.['required']" class="invalid-feedback">
          Username is required.
        </div>
      </div>
    </div>

    <div class="form-row">
      <!-- Email Field -->
      <div class="form-group">
        <label for="email">{{ "common.email" | translate }} <span class="required">*</span> </label>
        <input type="email" id="email" class="form-control" formControlName="email" />
        <div *ngIf="submitted && formGroup.get('email')?.errors?.['required']" class="invalid-feedback">
          Email is required.
        </div>
        <div *ngIf="submitted && formGroup.get('email')?.errors?.['email']" class="invalid-feedback">
          Please enter a valid email address.
        </div>
      </div>
       
        <!-- Department Field -->
        <div class="form-group">
          <label for="departmentName">{{ "common.departmentName" | translate }} <span class="required">*</span> </label>
          <select id="departmentName" class="form-control" formControlName="departmentName">
            <option *ngFor="let department of departments" [value]="department.name">
              {{ department.name }}
            </option>
          </select>
          <div *ngIf="submitted && formGroup.get('departmentName')?.errors?.['required']" class="invalid-feedback">
            Department is required.
          </div>
        </div>
   
    </div>

    <div class="form-row">

         <!-- Password Field -->
      <div class="form-group">
        <label for="password">{{ "common.password" | translate }} <span class="required">*</span> </label>
        <input type="password" id="password" class="form-control" formControlName="password" />
        <div *ngIf="submitted && formGroup.get('password')?.errors?.['required']" class="invalid-feedback">
          Password is required.
        </div>
      </div>

      <!-- Confirm Password Field -->
      <div class="form-group">
        <label for="confirmPassword">{{ "common.confirmPassword" | translate }} <span class="required">*</span> </label>
        <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword" />
        <div *ngIf="submitted && formGroup.get('confirmPassword')?.errors?.['required']" class="invalid-feedback">
          Please confirm your password.
        </div>
      </div>


    
    </div>

    <div class="form-row">
      <!-- Role Field -->
      <div class="form-group">
        <label for="roleName">{{ "common.roleName" | translate }} <span class="required">*</span> </label>
        <select id="roleName" class="form-control" formControlName="roleName">
          <option *ngFor="let role of roles" [value]="role.name">
            {{ role.name }}
          </option>
        </select>
        <div *ngIf="submitted && formGroup.get('roleName')?.errors?.['required']" class="invalid-feedback">
          Role is required.
        </div>
      </div>
    </div>
    <div class="text-center">
    <button type="submit" class="btn gradient mt-3 ">{{ "common.submit" | translate }}</button>
  </div>
  </form>
</div>
